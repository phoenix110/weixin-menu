<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta charset="utf-8">
    <title>
      微信公众平台
    </title>
    <link rel="stylesheet" href="./css/layout_head2880f5.css" type="text/css"/>
    <link rel="stylesheet" href="./css/base2b638f.css" type="text/css"/>
    <link rel="stylesheet" href="./css/lib2968da.css" type="text/css"/>
    <link rel="stylesheet" href="./css/index2b2fad.css" type="text/css"/>
    <link rel="stylesheet" href="./css/media_dialog27dcd8.css" type="text/css"/>
    <link rel="stylesheet" href="./css/tooltip218878.css" type="text/css"/>
    <script src="./js/jquery-1.7.2.js" type="text/javascript"></script>
    <script src="./js/jsrender.js" type="text/javascript"></script>
  </head>
  <body class="zh_CN screen_small">
    <div id="body" class="body page_menu_index">
      <div id="js_container_box" class="container_box cell_layout side_l">
        <div class="col_main">
          <div class="main_hd js_menuSetting ">
            <h2>
              自定义菜单
            </h2>
          </div>
          <div class="main_bd">
            <div class="menu_initial_box js_startMenuBox" style="display: none">
              <p class="tips_global">
                你尚未添加任何菜单
              </p>
              <a class="btn btn_primary btn_add js_openMenu" href="javascript:void(0);">
                <i class="icon14_common add_white">
                </i>
                添加菜单
              </a>
            </div>
            <div class="menu_setting_box js_menuBox dn" style="display: block;">
              <div class="menu_setting_area js_editBox">
                <div class="menu_preview_area">
                  <div class="mobile_menu_preview">
                    <div class="mobile_hd tc">
                      wenwojia
                    </div>
                    <div class="mobile_bd">
                    
                    <!-- menuList Start  -->
                    <ul class="pre_menu_list grid_line ui-sortable ui-sortable-disabled" id="menuList">
                    <!-- menu_0  -->
                        

                    </ul>
                    <!-- menuList End  -->

</div>
</div>
<div class="sort_btn_wrp">
  <a id="orderBt" class="btn btn_default" href="javascript:void(0);" style="display: inline-block;">
    菜单排序
  </a>
  <span id="orderDis" class="dn btn btn_disabled" style="display: none;" >
    菜单排序
  </span>
  <a id="finishBt" href="javascript:void(0);" class="dn btn btn_default">
    完成
  </a>
</div>
</div>
<div class="menu_form_area">
  <div id="js_none" class="menu_initial_tips tips_global" style="display: none;">
    点击左侧菜单进行编辑操作
  </div>
  <div id="js_rightBox" class="portable_editor to_left" style="display: block;">
    <div class="editor_inner">
      <div class="global_mod float_layout menu_form_hd js_second_title_bar">
        <h4 class="global_info">
          菜单名称
        </h4>
        <div class="global_extra">
          <a href="javascript:void(0);" id="jsDelBt">
            删除菜单
          </a>
        </div>
      </div>
      <div class="menu_form_bd" id="view">
        <div id="js_innerNone" style="display: block;" class="msg_sender_tips tips_global">
        </div>
        <div class="frm_control_group js_setNameBox">
          <label for="" class="frm_label">
            <strong class="title js_menuTitle">
              菜单名称
            </strong>
          </label>
          <div class="frm_controls">
            <span class="frm_input_box with_counter counter_in append">
              <input type="text" class="frm_input js_menu_name">
            </span>
            <p class="frm_msg fail js_titleEorTips dn" style="display: none;">
              字数超过上限
            </p>
            <p class="frm_msg fail js_titlenoTips dn" style="display: none;">
              请输入菜单名称
            </p>
            <p class="frm_tips js_titleNolTips">
              字数不超过4个汉字或8个字母
            </p>
          </div>
        </div>
        <div class="frm_control_group" style="display: none;">
          <label for="" class="frm_label">
            <strong class="title js_menuContent">
              菜单内容
            </strong>
          </label>
          <div class="frm_controls frm_vertical_pt">
            <label class="frm_radio_label js_radio_sendMsg selected" data-editing="0">
              <i class="icon_radio">
              </i>
              <span class="lbl_content" >
                发送消息
              </span>
              <input type="radio" name="hello" class="frm_radio">
            </label>
            <label class="frm_radio_label js_radio_url" data-editing="0">
              <i class="icon_radio">
              </i>
              <span class="lbl_content">
                跳转网页
              </span>
              <input type="radio" name="hello" class="frm_radio">
            </label>
          </div>
        </div>
        <div class="menu_content_container" style="display: none;">
          <div class="menu_content send jsMain" id="edit" style="display: none;">
            <div class="msg_sender" id="editDiv">
              <div class="msg_tab">
                <div class="tab_navs_panel">
                  <span class="tab_navs_switch_wrp switch_prev js_switch_prev">
                    <span class="tab_navs_switch">
                    </span>
                  </span>
                  <span class="tab_navs_switch_wrp switch_next js_switch_next" style="display: none;">
                    <span class="tab_navs_switch" >
                    </span>
                  </span>
                  <div class="tab_navs_wrp">
                    <ul class="tab_navs js_tab_navs" style="margin-left: 0;">
                      <li class="tab_nav tab_appmsg width4 selected" data-type="10" data-tab=".js_appmsgArea" data-tooltip="图文消息">

                      <a href="javascript:void(0);" onclick="return false;" >
                        &nbsp;
                        <i class="icon_msg_sender">
                        </i>
                        <span class="msg_tab_title">
                          图文消息
                        </span>
                      </a>
                    </li>
                    <li class="tab_nav tab_img width4" data-type="2" data-tab=".js_imgArea" data-tooltip="图片">
                    <a href="javascript:void(0);" onclick="return false;" >
                      &nbsp;
                      <i class="icon_msg_sender">
                      </i>
                      <span class="msg_tab_title">
                        图片
                      </span>
                    </a>
                  </li>
                  <li class="tab_nav tab_audio width4" data-type="3" data-tab=".js_audioArea" data-tooltip="语音">
                  <a href="javascript:void(0);" onclick="return false;" >
                    &nbsp;
                    <i class="icon_msg_sender">
                    </i>
                    <span class="msg_tab_title">
                      语音
                    </span>
                  </a>
                </li>
                <li class="tab_nav tab_video width4 no_extra" data-type="15" data-tab=".js_videoArea" data-tooltip="视频">
                <a href="javascript:void(0);" onclick="return false;" >
                  &nbsp;
                  <i class="icon_msg_sender">
                  </i>
                  <span class="msg_tab_title">
                    视频
                  </span>
                </a>
              </li>
            </ul>
          </div>
        </div>
        <div class="tab_panel">
          <div class="tab_content">
            <div class="js_appmsgArea inner ">
              <!--type 10图文 2图片  3语音 15视频 11商品消息-->
              <div class="tab_cont_cover jsMsgSendTab" data-index="0">
                <div class="media_cover">
                  <span class="create_access">
                    <a class="add_gray_wrp jsMsgSenderPopBt" href="javascript:;" data-type="10" data-index="0" >
                      <i class="icon36_common add_gray">
                      </i>
                      <strong>
                        从素材库中选择
                      </strong>
                    </a>
                  </span>
                </div>
                <div class="media_cover">
                  <span class="create_access">
                    <a 
                        target="_blank"
                        class="add_gray_wrp"
                        href="https://mp.weixin.qq.com/cgi-bin/appmsg?t=media/appmsg_edit&action=edit&type=10&isMul=1&isNew=1&lang=zh_CN&token=1312235286"
                    >
                      <i class="icon36_common add_gray">
                      </i>
                      <strong>
                        新建图文消息
                      </strong>
                    </a>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div class="tab_content" style="display: none;">
            <div class="js_imgArea inner ">
              <!--type 10图文 2图片  3语音 15视频 11商品消息-->
              <div class="tab_cont_cover jsMsgSendTab" data-index="1" data-type="2">
                <div class="media_cover">
                  <span class="create_access">
                    <a class="add_gray_wrp jsMsgSenderPopBt" href="javascript:;" data-type="2" data-index="1" >
                      <i class="icon36_common add_gray">
                      </i>
                      <strong>
                        从素材库中选择
                      </strong>
                    </a>
                  </span>
                </div>
                <div class="media_cover">
                  <span class="create_access">
                    <a class="add_gray_wrp" id="msgSendImgUploadBt" data-type="2" href="javascript:;" >
                      <i class="icon36_common add_gray">
                      </i>
                      <strong>
                        上传图片
                      </strong>
                    </a>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div class="tab_content" style="display: none;">
            <div class="js_audioArea inner ">
              <!--type 10图文 2图片  3语音 15视频 11商品消息-->
              <div class="tab_cont_cover jsMsgSendTab" data-index="2" data-type="3">
                <div class="media_cover">
                  <span class="create_access">
                    <a class="add_gray_wrp jsMsgSenderPopBt" href="javascript:;" data-type="3" data-index="2" >
                      <i class="icon36_common add_gray">
                      </i>
                      <strong>
                        从素材库中选择
                      </strong>
                    </a>
                  </span>
                </div>
                <div class="media_cover">
                  <span class="create_access">
                    <a class="add_gray_wrp " id="msgSendAudioUploadBt" href="javascript:;" >
                      <i class="icon36_common add_gray">
                      </i>
                      <strong>
                        新建语音
                      </strong>
                    </a>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div class="tab_content" style="display: none;">
            <div class="js_videoArea inner ">
              <!--type 10图文 2图片  3语音 15视频 11商品消息-->
              <div class="tab_cont_cover jsMsgSendTab" data-index="3">
                <div class="media_cover">
                  <span class="create_access">
                    <a class="add_gray_wrp jsMsgSenderPopBt" href="javascript:;" data-type="15" data-index="3" >
                      <i class="icon36_common add_gray">
                      </i>
                      <strong>
                        从素材库中选择
                      </strong>
                    </a>
                  </span>
                </div>
                <div class="media_cover">
                  <span class="create_access">
                    <a 
                        target="_blank"
                        class="add_gray_wrp"
                        href="https://mp.weixin.qq.com/cgi-bin/appmsg?t=media/videomsg_edit&action=video_edit&type=15&lang=zh_CN&token=1312235286"
                    >
                      <i class="icon36_common add_gray">
                      </i>
                      <strong>
                        新建视频
                      </strong>
                    </a>
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="menu_content url jsMain" id="url" style="display: none;">
    <form action="" id="urlForm" onsubmit="return false;">
      <p class="menu_content_tips tips_global">
        订阅者点击该子菜单会跳到以下链接
      </p>
      <div class="frm_control_group">
        <label for="" class="frm_label">
          页面地址
        </label>
        <div class="frm_controls">
          <span class="frm_input_box">
            <input type="text" class="frm_input" id="urlText" name="urlText">
          </span>
          <p class="frm_tips" id="js_urlTitle" style="display: none;">
            来自
            <span class="js_name">
            </span>
            <span style="display: none;">
              -《
              <span class="js_title">
              </span>
              》
            </span>
          </p>
        </div>
      </div>
      <div class="frm_control_group btn_appmsg_wrap">
        <div class="frm_controls">
          <p class="frm_msg fail dn" id="urlUnSelect" style="display: none;">
            <span for="urlText" class="frm_msg_content" style="display: inline;">
              请选择一篇文章
            </span>
          </p>
          <a href="javascript:;" id="js_appmsgPop">
            从公众号图文消息中选择
          </a>
          <a href="javascript:void(0);" class="dn btn btn_default" id="js_reChangeAppmsg" >
            重新选择
          </a>
        </div>
      </div>
    </form>
  </div>
  <div class="menu_content sended" style="display: none;">
    <p class="menu_content_tips tips_global">
      订阅者点击该子菜单会跳到以下链接
    </p>
    <div class="msg_wrp" id="viewDiv">
    </div>
    <p class="frm_tips">
      来自
      <span class="js_name">
        素材库
      </span>
      <span style="display: none;">
        -《
        <span class="js_title">
        </span>
        》
      </span>
    </p>
  </div>
  <div id="js_errTips" style="display: none;" class="msg_sender_msg mini_tips warn">
  </div>
</div>
</div>
</div>
<span class="editor_arrow_wrp">
  <i class="editor_arrow editor_arrow_out">
  </i>
  <i class="editor_arrow editor_arrow_in">
  </i>
</span>
</div>
</div>
</div>
<div class="tool_bar tc js_editBox">
  <span id="pubBt" class="btn btn_input btn_primary">
    <button>
      保存并发布
    </button>
  </span>
  <a href="javascript:void(0);" class="btn btn_default" id="viewBt">
    预览
  </a>
</div>
</div>
</div>
<div class="mobile_preview" id="mobileDiv">
  <div class="mobile_preview_hd">
    <strong class="nickname">
      wenwojia
    </strong>
  </div>
  <div class="mobile_preview_bd">
    <ul id="viewShow" class="show_list">
    </ul>
  </div>
  <div class="mobile_preview_ft">
    <ul class="pre_menu_list grid_line" id="viewList">
    </ul>
  </div>
  <a href="javascript:void(0);" class="mobile_preview_closed btn btn_default" id="viewClose">
    退出预览
  </a>
</div>
</div>
</div>
</div>

<script type="text/x-jsrender" id="tpl">
{{for #data}}
    <li class="jsMenu pre_menu_item grid_item jslevel1 size1of3 ui-sortable ui-sortable-disabled" id="{{:id}}">
        <a href="javascript:void(0);" class="pre_menu_link" draggable="false"> 
            <i class="icon_menu_dot js_icon_menu_dot dn"></i>
            <i class="icon20_common sort_gray"></i> 
            <span class='js_l1Title'>{{:name}}</span>
        </a>
        <div class="sub_pre_menu_box js_l2TitleBox" style='display: none;'>
            <ul class="sub_pre_menu_list">
                {{for sub}}
                    <li id="{{:id}}" class='jslevel2'>
                        <a href="javascript:void(0);" class="jsSubView" draggable="false">
                                <span class="sub_pre_menu_inner js_sub_pre_menu_inner">
                                   <i class="icon20_common sort_gray"></i>
                                <span class='js_l2Title'>{{:name}}</span>
                            </span>
                        </a>
                    </li>
                {{/for}}
				{{if sub.length != 5}} 
                <li class='js_addMenuBox'>
                    <a href="javascript:void(0);" class="jsSubView js_addL2Btn" title="最多添加5个子菜单" draggable="false">
                        <span class="sub_pre_menu_inner js_sub_pre_menu_inner">
                          <i class="icon14_menu_add"></i>
                        </span>
                    </a>
                </li>
				{{else}}
                <li class='js_addMenuBox' style="display: none;">
                    <a href="javascript:void(0);" class="jsSubView js_addL2Btn" title="最多添加5个子菜单" draggable="false">
                        <span class="sub_pre_menu_inner js_sub_pre_menu_inner">
                          <i class="icon14_menu_add"></i>
                        </span>
                    </a>
                </li>
				{{/if}}
            </ul>
            <i class="arrow arrow_out"></i>
            <i class="arrow arrow_in"></i>
        </div>
    </li>
{{/for}}
</script>
<script id="addL1Btn" type="text/x-jsrender" >
<li class="js_addMenuBox pre_menu_item grid_item no_extra">
    <a href="javascript:void(0);" class="pre_menu_link js_addL1Btn" title="最多添加3个一级菜单" draggable="false"> 
        <i class="icon14_menu_add"></i>
    </a>
</li>
</script>

<script type="text/x-jsrender" id="viewTpl">
{{for #data}}
    <li class="pre_menu_item grid_item size1of{{:#parent.length}} jsViewLi {{if #index+1 == #parent.length}}no_extra_flex{{/if}}" id="{{:id}}">
        <a href="javascript:void(0);" class="jsView pre_menu_link" title="{{:name}}" draggable="false">
           {{if subs != null}} 
              <i class="icon_menu_dot"></i> 
           {{/if}}
           {{:name}}
        </a>
        {{if subs != null}} 
            <div class="sub_pre_menu_box jsSubViewDiv" style="display: none">
              <ul class="sub_pre_menu_list">
                  {{for sub}}
                     <li id="{sub.id}">
                        <a href="javascript:void(0);" class="jsSubView" title="{{:name}}" draggable="false">{{:name}}</a>
                     </li> 
                  {{/for}}
              </ul>
              <i class="arrow arrow_out"></i> 
              <i class="arrow arrow_in"></i>
            </div>
        {{/if}}
    </li>
{{/for}}
</script>

<script>

var _json = 
 [
    {
        "id": "menu_0", 
        "name": "菜单名称", 
        "sub": [
            {
                "id": "subMenu_menu_0_0", 
                "name": "子菜单名称"
            },
            {
                "id": "subMenu_menu_0_0", 
                "name": "子菜单名称"
            },
            {
                "id": "subMenu_menu_0_0", 
                "name": "子菜单名称"
            },
            {
                "id": "subMenu_menu_0_0", 
                "name": "子菜单名称"
            },
            {
                "id": "subMenu_menu_0_0", 
                "name": "子菜单名称"
            }
        ]
    },
	{
        "id": "menu_0", 
        "name": "菜单名称", 
        "sub": [
            {
                "id": "subMenu_menu_0_0", 
                "name": "子菜单名称"
            }
        ]
    },
	{
        "id": "menu_0", 
        "name": "菜单名称", 
        "sub": [
            {
                "id": "subMenu_menu_0_0", 
                "name": "子菜单名称"
            }
        ]
    }
];

	$(document).ready(function() {
	var template = $( "#tpl" ).render( _json );
	var addL1Btn = $( "#addL1Btn" ).html();
	console.log(addL1Btn);
	$( "#menuList").html(template);

$("#menuList li").each(
	function(index, element) {
		$(this).click(function(){
			
			$("#menuList li").removeClass("current selected");
			
			$(this).addClass("current selected");
			
			$("#sub_pre_menu_box",this).toggle();
			
		});
	});






});</script>


</body>
</html>
